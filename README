Measureware Tools					November 21, 2016

The scripts here are to facilitate the collection of performance metrics from 
HP-UX servers running Measureware/SCOPE-UX/Glance Plus Pak.

The software here is niether supported nor sanctioned by Hewlett-Packard Company
or Hewlett Packard Enterprise.

Following are brief descriptions of these scripts in the order of their typical use:

The following scripts assume the collected tarballs are part of number of complexes 
containing vPAR hosts.  The complex/vpPar naming convention is:
	<complex><vpar host beginning with the letter "v>.

collect_mwalogs.pl  - Have the customer or system administrator run this script on each 
	of their systems, bare metal running HP-UX or Virtual machines, Virtual Partitions 
        (vPAR).  This script will generate a gzipped tarball in the /tmp directory.

	The form of the filename generated is <host>_<yyyy-mm-dd>_mwalogs.tar.gz.
	In addition fo the log files in /var/opt/perf/datafiles, parm and system
	information, the tarball contains an extract of the selected global metrics 
        in CSV format.  

	After this collect scripts runs, have the customer upload the resulting tarballs 
	to an FTP dropbox.

dist_and_decompress.pl - This script assumes that the tarballs preduced by the collect_mwalogs.pl
	script are vPARs from multiple complexes (e.g., Superdome 2 nPAR).  The script determines
	the complex names based on the characters before the first "v."  So the file name 
	csc02v8_2016-10-16_mwalogs.tar.gz wiuld yield complex name "csc02."  Note, if your 
	vPAR naming convention is different, you will have to modify the subroutine getComplexes().
	The script distributes the tarballs into theiir respective complex directories and then
	decompresses each system's tarball. 

extract_global.pl - Uses the extract utility to extract specific global metrics from the logglob
	log collected by the collect_mwalogs.pl script.  Note, since the version 12 update of
	Measureware, this is no longer useful.  Measureware has switched to a new log database
	that must be in a specific loocation for metric extration.  Therefore, the data of interst
	are required to be extracted in place and placed in the tarball.  Version 7 and later of 
        the collect_mwalogs.pl script produces the CSV file of these data and places it in the 
	tarball.

gen_rtarbals.pl - Converts CSV files into files compatible with the R language and generates 
	tarballs in a structure suitable to be used in the R language.

gen_AllSysSummary.pl - Uses perfSysSummary.pl to produce a CSV file listing hostname and various
	highlevel storage and memory statistics for each host.  If the particular host is running
	Oracle, the name of the Oracle databases instances running are listed.  The statitics
	listed are:
		Database
		Failover Partner (note this is specific to Veritas Cluster Server)
		Memory (MB)
		Allocated Storage (GB)
		Used Storage (GB)
		Available Storage (GB)
		Storage Utilization (%)
		Model (e.g. SD2-16s)
		Machine ID
		Machine Serial Number
		

gen_perf_xls.pl - Uses perfMakePerfXLS.pl to create Excel xls files for each complex.  This script
	uses the CSV files extracted from the Measureware global log.  Note there is a limitation
	of 65,536 rows per Excel tab.  Therefore, only the most recent rows are included in this 
	spreadsheet tab by system.


The following scripts are the low-level scripts used to process a single host.

perfConvertCsvtoR.pl - COnverts each CSV file within a directory to its R format equivalent
	for the use with the R language.

perfExtractGlobal.pl - (DEPRICATEWD)  Uses the Measureware extract utility to generate CSV file
	of selected global metrics.  Namely:
		DATE
		TIME

		**................................ Global CPU Metrics

		GBL_CPU_USER_MODE_UTIL
		GBL_CPU_SYS_MODE_UTIL
		GBL_CPU_INTERRUPT_UTIL
		GBL_CPU_SYSCALL_UTIL
		GBL_CPU_TOTAL_UTIL
		GBL_ACTIVE_CPU
		GBL_INTERRUPT
		GBL_RUN_QUEUE
		GBL_ALIVE_PROC
		GBL_ACTIVE_PROC
		GBL_SYSCALL
		GBL_SYSCALL_RATE
		GBL_MEM_UTIL
		GBL_MEM_PAGEOUT_RATE
		GBL_MEM_SWAPOUT_RATE
		GBL_MEM_QUEUE
		GBL_DISK_PHYS_IO_RATE
		GBL_DISK_PHYS_BYTE_RATE
		GBL_DISK_REQUEST_QUEUE
		GBL_NET_IN_PACKET_RATE
		GBL_NET_OUT_PACKET_RATE


perfExtractMWA.pl - Gunzips tarballs into directory for each host.

perfMakePerfXLS.pl - Creates en Excel spreadsheet (XLS) for all the CSV files in a directory. 
	There is a limit of 65536 rows in each tab.  The most recent rows are included.

perfSysSummary.pl - Uses the system information text file generated by collect_mwalogs.pl 
	to summarize the high-level memory, storage and machin identity.


